@*
    For more information on enabling MVC for empty projects, visit https://go.microsoft.com/fwlink/?LinkID=397860
*@
@model contact.app.business.entity.Contact
@{

    Layout = "~/Views/Shared/_Layout_Dashboard.cshtml";
}
<div class="d-flex justify-content-between flex-wrap flex-md-nowrap align-items-center pt-3 pb-2 mb-3 border-bottom">
    <h1 class="h2">Add Contact</h1>
    <div class="btn-toolbar mb-2 mb-md-0">
        <div class="btn-group me-2">
            <a class="btn btn-sm btn-outline-secondary" href="/Contact">Cancel</a>
        </div>
    </div>
</div>
<div class="container">
    <form asp-action="Add" class="needs-validation" novalidate>
        <div class="row pt-3">
            <input type="hidden" asp-for="ContactId" />
            <input type="hidden" asp-for="ContactStatusId" />
            <input type="hidden" asp-for="CreatedByOnlineUserId" />
            <input type="hidden" asp-for="DateCreated" />
            <div class="col-7">
                <div class="row g-3">
                    <div class="col-sm-6">
                        <label for="Firstname" class="form-label">Name</label>
                        <input type="text" class="form-control" asp-for="Firstname" placeholder="First name" required>
                        <div class="invalid-feedback">
                            Valid name is required.
                        </div>
                    </div>

                    <div class="col-sm-6">
                        <label for="Surname" class="form-label">Surname</label>
                        <input type="text" class="form-control" asp-for="Surname" placeholder="Surname" required>
                        <div class="invalid-feedback">
                            Valid surname is required.
                        </div>
                    </div>

                    <div class="col-12">
                        <label for="contactPhone" class="form-label">Phone number</label>
                        <div class="input-group has-validation">
                            <span class="input-group-text">+27</span>
                            <input type="text" class="form-control" asp-for="ContactPhone" placeholder="012345678" required>

                            <span asp-validation-for="ContactPhone" class="w-100 text-danger mt-1"></span>
                            
                        </div>
                    </div>

                    <div class="col-12 pb-2">
                        <label for="ContactEmail" class="form-label">Email</label>
                        <input type="email" class="form-control" asp-for="ContactEmail" placeholder="you@example.com" required>
                        <div class="invalid-feedback">
                            Please enter a valid email address.
                        </div>
                    </div>
                </div>
            </div>

            <div class="col-5">
                <div class="row g-3 border rounded-3 bg-light pb-3">
                    <div class="col-12">
                        <label for="AddressStreet" class="form-label">Address <span class="text-muted">(Optional)</span></label>
                        <input type="text" class="form-control" asp-for="AddressStreet" placeholder="1234 Main St">
                        <div class="invalid-feedback">
                            Please enter your address.
                        </div>
                    </div>

                    <div class="col-12">
                        <label for="AddressSuburb" class="form-label">Suburb <span class="text-muted">(Optional)</span></label>
                        <input type="text" class="form-control" asp-for="AddressSuburb" placeholder="Apartment or suite">
                    </div>

                    <div class="col-md-7">
                        <label for="AddressCountryId" class="form-label">Country</label>
                        <select class="form-select" asp-for="AddressCountryId" required>
                            <option value="-1">Choose...</option>
                            <option value="1">South Africa (+27)</option>
                        </select>
                        <div class="invalid-feedback">
                            Please select a valid country.
                        </div>
                    </div>

                    <div class="col-md-5 pb-2">
                        <label for="AddressProvinceId" class="form-label">Province</label>
                        <select class="form-select" asp-for="AddressProvinceId" required>
                            <option value="-1">Choose...</option>
                            <option value="1">Gauteng</option>
                        </select>
                        <div class="invalid-feedback">
                            Please provide a valid province.
                        </div>
                    </div>
                </div>
            </div>
            <hr class="my-3">
            <div class="col-7">
                <div class="row">
                    <button type="submit" class="btn btn-lg btn-primary col-6">Add Contact</button>
                </div>
            </div>
        </div>
    </form>
</div>
@section Scripts{
    <script type="text/javascript">(() => {
            'use strict'

            // Fetch all the forms we want to apply custom Bootstrap validation styles to
            const forms = document.querySelectorAll('.needs-validation');

            // Loop over them and prevent submission
            Array.from(forms).forEach(form => {
                form.addEventListener('submit',
                    event => {
                        if (!form.checkValidity()) {
                            event.preventDefault();
                            event.stopPropagation();
                        }

                        form.classList.add('was-validated');
                    },
                    false);
            });
        })();</script>
}